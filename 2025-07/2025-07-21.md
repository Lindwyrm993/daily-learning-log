# 21/JUL/2025

## JSON (JavaScript Object Notation)

### ¿Qué es JSON?

**JSON** (JavaScript Object Notation) es un **formato ligero de intercambio de datos**, fácil de leer y escribir para los humanos, además de fácil de interpretar y generar para las máquinas. Es ampliamente utilizado para:

- Comunicar datos entre cliente y servidor en aplicaciones web.
- Almacenar configuraciones, estructuras y respuestas de APIs.
- Persistencia de datos estructurados en archivos.

JSON está basado en la notación de objetos JavaScript, pero es independiente del lenguaje.

---

### Estructura de JSON

Un objeto JSON es una colección de pares clave-valor. Es similar a un diccionario en Python.

```json
{
  "nombre":"Zoel",
  "edad":22,
  "estudiante":true
  "lenguajes":["Python","Java","C#"],
  "direccion":{
    "ciudad":"Guadalajara",
    "pais":"México"
  }
}
```

### Tipos de datos válidos en JSON:

##### **JSON**          **Python equivalente**
- ```go
     string            str
  ```
-      number            int/float
-      object            dict
-      array             list
-      true/false        True/False
-      null              None

### Uso de JSON en Python

Python incluye la librería estándar `json` para trabajar con este formato.

#### Importación
```python
import json
```

1. Convertir un diccionario en JSON (serialización)
```python
import json

persona = {
  "nombre": "Zoel",
  "edad": 22,
  "activo": True
}

json_str = json.dumps(persona)
print(json_str) # {"nombre": "Zoel", "edad": 22, "activo": True}
```
2. Convertir JSON a diccionario (deserialización)
```python
import json

json_str = '{"nombre": "Zoel", "edad": 22, "activo": True}

persona = json.loads(json_str)
print(persona["nombre"]) # Zoel
```
3. Leer un archivo `.json`
```python
import json

with open("datos.json", "r", encoding="utf-8") as archivo:
    datos = json.load(archivo)

print(datos)
```

4. Escribir un archivo `.json`
```python
import json

info = {
    "proyecto": "SmartRetail-PyMEs",
    "version": 1.0,
    "activo": True
}

with open("config.json", "w", encoding="utf-8") as archivo:
    json.dump(info, archivo, indent=4)
```
> El parámetro `indent=4` agrega formato legible con sangría.

5. Convertir estructuras más complejas

Si una clase o un objeto contiene tipos no nativos de JSON (como `datatime`), se debe serializar con una función personalizada.
```python
import json
from datetime import datetime

def convertir_fecha(obj):
    if isinstance(obj, datetime):
        return obj.isoformat()
    raise TypeError("Tipo no serializable")

registro = {
    "usuario": "Zoel",
    "fecha": datetime.now()
}

json_str = json.dumps(registro, default=convertir_fecha, indent=2)
print(json_str)
```

### Validación de JSON

Se puede validar un string JSON con `json.loads()`, y si hay error, capturarlo con `json.JSONDecodeError`.
```python
import json

mal_formado = '{"nombre": "Zoel", edad: 28}'  # clave sin comillas

try:
    datos = json.loads(mal_formado)
except json.JSONDecodeError as e:
    print("Error al decodificar JSON:", e)
```

### Buenas prácticas con JSON
- Siempre validar el contenido antes de procesarlo.
- Usar `indent=4` o `sort_keys=True` para facilitar la lectura de archivos.
- Usar UTF-8 al trabajar con archivos `.json`.
- Evita estructuras cíclicas o no serializables directamente.
- En configuraciones, mantener nombres de claves simples y consistentes.

---




















